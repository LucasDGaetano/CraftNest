
<div class="container">
  <h1>ATELIER <%= @atelier.name %></h1>

  <h2> propriétaire : <%= @atelier.user.username %></h2>
  <h2> prix : <%= @atelier.price %></h2>
  <h2> lieu : <%= @atelier.location %></h2>
  <h2> categorie : <%= @atelier.category %></h2>

  <%= cl_image_tag @atelier.photo.key, height: 300, width: 400, crop: :fill %>

  <%= link_to "return to ateliers", ateliers_path %>
  <%= link_to "edit this atelier", edit_atelier_path %>
    <%= link_to "remove this atelier", atelier_path(@atelier), data: {turbo_method: :delete, turbo_confirm: "Confirm?"} %>

  <hr>
    <div class= "new-reservation">
      <h1>Faire une nouvelle réservation</h1>
      <%= simple_form_for [@atelier, @reservation] do |f| %>
        <%= f.input :start_date,
                as: :string,
                input_html: { data: { controller: "datepicker" } } %>
        <%= f.input :end_date,
                as: :string,
                input_html: { data: { controller: "datepicker" } } %>
        <%= f.button :submit %>
      <% end %>
    </div>
</div>

// COMPARAISON AVEC LE CURRENT USER ID ET LES RESERVATIONS SI YEN A UNE QUI A UN ID DE LUSER ET L'ID ET L'ATELIER DE CETTE PAGE (params id)
// REMPLIR UN @RESERVATIONS AUPARAVANT DANS LE CONTROLLER ?????? uniquement celle de l'utilisateur afin d'économiser les ressources ?

<% @reservations.each do |resa| %>
  <%= resa.user_id %>
  <% if current_user.id == resa.user_id %>
    hello
  <% end %>
<% end %>
